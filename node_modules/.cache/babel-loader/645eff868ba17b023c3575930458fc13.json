{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.renderData = renderData;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMeasure = require('react-measure');\n\nvar _reactMeasure2 = _interopRequireDefault(_reactMeasure);\n\nvar _d3Cloud = require('d3-cloud');\n\nvar _d3Cloud2 = _interopRequireDefault(_d3Cloud);\n\nrequire('./styles.css');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction renderData(data) {\n  var renderedDataArray = data.map(function (item) {\n    return _react2.default.createElement('div', {\n      key: item.label,\n      style: {\n        fontSize: item.fontSize ? item.fontSize * 5 + 16 : '',\n        opacity: item.opacity ? item.opacity / 10 : '',\n        padding: item.padding ? item.padding : '',\n        fontWeight: 'bold'\n      }\n    }, item.label);\n  });\n  return renderedDataArray;\n}\n\nvar TagCloud = function (_Component) {\n  _inherits(TagCloud, _Component);\n\n  function TagCloud(props) {\n    _classCallCheck(this, TagCloud);\n\n    var _this = _possibleConstructorReturn(this, (TagCloud.__proto__ || Object.getPrototypeOf(TagCloud)).call(this, props));\n\n    _this._width = 0;\n    _this._height = 0;\n    _this.state = {\n      wrappedChildren: []\n    };\n    _this.text = _this.text.bind(_this);\n    _this.fontFamily = _this.getStyleValue.bind(_this, 'fontFamily');\n    _this.fontSize = _this.getStyleValue.bind(_this, 'fontSize');\n    _this.fontWeight = _this.getStyleValue.bind(_this, 'fontWeight');\n    _this.fontStyle = _this.getStyleValue.bind(_this, 'fontStyle');\n    _this.padding = _this.getStyleValue.bind(_this, 'padding');\n    _this.rotate = _this.rotate.bind(_this);\n    _this.onResize = _this.onResize.bind(_this);\n    _this.randomColor = _this.randomColor.bind(_this);\n    return _this;\n  }\n\n  _createClass(TagCloud, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._mounted = true;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._resizeTimer) {\n        clearTimeout(this._resizeTimer);\n        this._resizeTimer = undefined;\n      }\n\n      this._mounted = false;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.updateLayout(nextProps, true);\n    }\n  }, {\n    key: 'randomColor',\n    value: function randomColor(colorarray) {\n      if (colorarray) {\n        return colorarray[Math.floor(Math.random() * colorarray.length)];\n      } else {\n        var r = Math.round(Math.random() * 255);\n        var g = Math.round(Math.random() * 255);\n        var b = Math.round(Math.random() * 255);\n        return 'rgb(' + r + ', ' + g + ', ' + b + ')';\n      }\n    }\n  }, {\n    key: 'updateLayout',\n    value: function updateLayout(props) {\n      var _this2 = this;\n\n      var width = this._width;\n      var height = this._height;\n\n      if (!width || !height) {\n        return;\n      }\n\n      this.calculateLayout(props).then(function (children) {\n        if (!_this2._mounted) return;\n\n        _this2.setState({\n          wrappedChildren: children\n        });\n      });\n    }\n  }, {\n    key: 'calculateLayout',\n    value: function calculateLayout(props) {\n      var _this3 = this;\n\n      var children = props.children,\n          random = props.random;\n      var width = this._width;\n      var height = this._height;\n      return new Promise(function (resolve) {\n        (0, _d3Cloud2.default)().size([width, height]).words(_react2.default.Children.map(children, function (child) {\n          return {\n            child: child\n          };\n        })).text(_this3.text).font(_this3.fontFamily).fontStyle(_this3.fontStyle).fontWeight(_this3.fontWeight).fontSize(_this3.fontSize).rotate(_this3.rotate).padding(_this3.padding).random(random).on('end', function (items) {\n          var newChildren = items.map(function (item, index) {\n            var x = item.x;\n            x += item.x0;\n            x += width / 2;\n            var y = item.y;\n            y += item.y0;\n            y += height / 2;\n            var transform = 'translate(' + x + 'px,' + y + 'px) rotate(' + item.rotate + 'deg)';\n\n            var style = _extends({\n              position: 'absolute',\n              color: _this3.props.style.color || _this3.randomColor(_this3.props.colorarray)\n            }, item.child.props.style, {\n              fontFamily: item.font,\n              fontSize: item.size,\n              fontWeight: item.weight,\n              fontStyle: item.style,\n              width: item.width,\n              textAlign: 'center',\n              whiteSpace: 'nowrap',\n              transformOrigin: 'center bottom',\n              WebkitTransform: transform,\n              MozTransform: transform,\n              MsTransform: transform,\n              OTransform: transform,\n              transform: transform\n            });\n\n            if (_this3.props.style.color && typeof _this3.props.style.color === 'function') {\n              style.color = _this3.props.style.color(item.child, index);\n            }\n\n            return _react2.default.cloneElement(item.child, _extends({}, item.child.props, {\n              key: item.text,\n              style: style\n            }), item.child.props.children);\n          });\n          resolve(newChildren);\n        }).start();\n      });\n    }\n  }, {\n    key: 'getStyleValue',\n    value: function getStyleValue(propName, word) {\n      var childValue = word.child.props.style ? word.child.props.style[propName] : undefined;\n      var value = childValue || this.props.style[propName] || TagCloud.defaultProps.style[propName];\n\n      if (typeof value === 'function') {\n        value = value(word.child.props);\n      }\n\n      if (propName === 'fontSize') value += 2;\n      return value;\n    }\n  }, {\n    key: 'rotate',\n    value: function rotate(word) {\n      var value = word.child.props.rotate || this.props.rotate || TagCloud.defaultProps.rotate;\n\n      if (typeof value === 'function') {\n        return value(word.child.props);\n      } else {\n        return value;\n      }\n    }\n  }, {\n    key: 'text',\n    value: function text(word) {\n      var text = word.child.props.text;\n\n      if (!text) {\n        var children = word.child.props.children;\n\n        if (Array.isArray(children)) {\n          text = children[0];\n        } else {\n          text = children;\n        }\n      }\n\n      return text;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          style = _props.style,\n          rotate = _props.rotate,\n          random = _props.random,\n          props = _objectWithoutProperties(_props, ['children', 'style', 'rotate', 'random']);\n\n      var fontFamily = style.fontFamily,\n          fontSize = style.fontSize,\n          fontWeight = style.fontWeight,\n          fontStyle = style.fontStyle,\n          padding = style.padding,\n          otherStyle = _objectWithoutProperties(style, ['fontFamily', 'fontSize', 'fontWeight', 'fontStyle', 'padding']);\n\n      var wrappedChildren = this.state.wrappedChildren;\n      return _react2.default.createElement(_reactMeasure2.default, {\n        bounds: true,\n        onResize: this.onResize\n      }, function (_ref) {\n        var measureRef = _ref.measureRef;\n        return _react2.default.createElement('div', _extends({\n          ref: measureRef\n        }, props, {\n          style: otherStyle\n        }), wrappedChildren);\n      });\n    }\n  }, {\n    key: 'onResize',\n    value: function onResize(_ref2) {\n      var _this4 = this;\n\n      var bounds = _ref2.bounds;\n      var width = bounds.width,\n          height = bounds.height;\n\n      if (this._width !== width || this._height !== height) {\n        this._width = width;\n        this._height = height;\n        if (this._resizeTimer) clearTimeout(this._resizeTimer);\n        this._resizeTimer = setTimeout(function () {\n          _this4._resizeTimer = undefined;\n\n          _this4.updateLayout(_this4.props);\n        }, 200);\n      }\n    }\n  }]);\n\n  return TagCloud;\n}(_react.Component);\n\nTagCloud.propTypes = {\n  children: _propTypes2.default.any,\n  style: _propTypes2.default.shape({\n    fontFamily: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n    fontStyle: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n    fontWeight: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number, _propTypes2.default.string]),\n    fontSize: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n    padding: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n    opacity: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number])\n  }),\n  rotate: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n  colorarray: _propTypes2.default.array,\n  data: _propTypes2.default.array,\n  random: _propTypes2.default.func\n};\nTagCloud.defaultProps = {\n  style: {\n    fontFamily: 'serif',\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    fontSize: 30,\n    padding: 10,\n    opacity: 1\n  },\n  rotate: 0,\n  colorarray: null,\n  data: null,\n  random: Math.random\n};\nexports.default = TagCloud;","map":{"version":3,"sources":["/Users/shainedl/Documents/ShaineLeibowitz/node_modules/d3-tagcloud-for-react/dist/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","renderData","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactMeasure","_reactMeasure2","_d3Cloud","_d3Cloud2","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","data","renderedDataArray","map","item","createElement","label","style","fontSize","opacity","padding","fontWeight","TagCloud","_Component","_this","getPrototypeOf","_width","_height","state","wrappedChildren","text","bind","fontFamily","getStyleValue","fontStyle","rotate","onResize","randomColor","componentDidMount","_mounted","componentWillUnmount","_resizeTimer","clearTimeout","undefined","componentWillReceiveProps","nextProps","updateLayout","colorarray","Math","floor","random","r","round","g","b","_this2","width","height","calculateLayout","then","children","setState","_this3","Promise","resolve","size","words","Children","child","font","on","items","newChildren","index","x","x0","y","y0","transform","position","color","weight","textAlign","whiteSpace","transformOrigin","WebkitTransform","MozTransform","MsTransform","OTransform","cloneElement","start","propName","word","childValue","defaultProps","Array","isArray","render","_props","otherStyle","bounds","_ref","measureRef","ref","_ref2","_this4","setTimeout","Component","propTypes","any","shape","oneOfType","func","string","number","array"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.renderData = renderData;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMeasure = require('react-measure');\n\nvar _reactMeasure2 = _interopRequireDefault(_reactMeasure);\n\nvar _d3Cloud = require('d3-cloud');\n\nvar _d3Cloud2 = _interopRequireDefault(_d3Cloud);\n\nrequire('./styles.css');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction renderData(data) {\n\tvar renderedDataArray = data.map(function (item) {\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: item.label,\n\t\t\t\tstyle: {\n\t\t\t\t\tfontSize: item.fontSize ? item.fontSize * 5 + 16 : '',\n\t\t\t\t\topacity: item.opacity ? item.opacity / 10 : '',\n\t\t\t\t\tpadding: item.padding ? item.padding : '',\n\t\t\t\t\tfontWeight: 'bold'\n\t\t\t\t}\n\t\t\t},\n\t\t\titem.label\n\t\t);\n\t});\n\treturn renderedDataArray;\n}\n\nvar TagCloud = function (_Component) {\n\t_inherits(TagCloud, _Component);\n\n\tfunction TagCloud(props) {\n\t\t_classCallCheck(this, TagCloud);\n\n\t\tvar _this = _possibleConstructorReturn(this, (TagCloud.__proto__ || Object.getPrototypeOf(TagCloud)).call(this, props));\n\n\t\t_this._width = 0;\n\t\t_this._height = 0;\n\t\t_this.state = {\n\t\t\twrappedChildren: []\n\t\t};\n\t\t_this.text = _this.text.bind(_this);\n\t\t_this.fontFamily = _this.getStyleValue.bind(_this, 'fontFamily');\n\t\t_this.fontSize = _this.getStyleValue.bind(_this, 'fontSize');\n\t\t_this.fontWeight = _this.getStyleValue.bind(_this, 'fontWeight');\n\t\t_this.fontStyle = _this.getStyleValue.bind(_this, 'fontStyle');\n\t\t_this.padding = _this.getStyleValue.bind(_this, 'padding');\n\t\t_this.rotate = _this.rotate.bind(_this);\n\t\t_this.onResize = _this.onResize.bind(_this);\n\t\t_this.randomColor = _this.randomColor.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(TagCloud, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis._mounted = true;\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tif (this._resizeTimer) {\n\t\t\t\tclearTimeout(this._resizeTimer);\n\t\t\t\tthis._resizeTimer = undefined;\n\t\t\t}\n\t\t\tthis._mounted = false;\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tthis.updateLayout(nextProps, true);\n\t\t}\n\t}, {\n\t\tkey: 'randomColor',\n\t\tvalue: function randomColor(colorarray) {\n\t\t\tif (colorarray) {\n\t\t\t\treturn colorarray[Math.floor(Math.random() * colorarray.length)];\n\t\t\t} else {\n\t\t\t\tvar r = Math.round(Math.random() * 255);\n\t\t\t\tvar g = Math.round(Math.random() * 255);\n\t\t\t\tvar b = Math.round(Math.random() * 255);\n\t\t\t\treturn 'rgb(' + r + ', ' + g + ', ' + b + ')';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'updateLayout',\n\t\tvalue: function updateLayout(props) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar width = this._width;\n\t\t\tvar height = this._height;\n\n\t\t\tif (!width || !height) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.calculateLayout(props).then(function (children) {\n\t\t\t\tif (!_this2._mounted) return;\n\t\t\t\t_this2.setState({\n\t\t\t\t\twrappedChildren: children\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'calculateLayout',\n\t\tvalue: function calculateLayout(props) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar children = props.children,\n\t\t\t    random = props.random;\n\n\t\t\tvar width = this._width;\n\t\t\tvar height = this._height;\n\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t(0, _d3Cloud2.default)().size([width, height]).words(_react2.default.Children.map(children, function (child) {\n\t\t\t\t\treturn { child: child };\n\t\t\t\t})).text(_this3.text).font(_this3.fontFamily).fontStyle(_this3.fontStyle).fontWeight(_this3.fontWeight).fontSize(_this3.fontSize).rotate(_this3.rotate).padding(_this3.padding).random(random).on('end', function (items) {\n\t\t\t\t\tvar newChildren = items.map(function (item, index) {\n\t\t\t\t\t\tvar x = item.x;\n\t\t\t\t\t\tx += item.x0;\n\t\t\t\t\t\tx += width / 2;\n\t\t\t\t\t\tvar y = item.y;\n\t\t\t\t\t\ty += item.y0;\n\t\t\t\t\t\ty += height / 2;\n\t\t\t\t\t\tvar transform = 'translate(' + x + 'px,' + y + 'px) rotate(' + item.rotate + 'deg)';\n\t\t\t\t\t\tvar style = _extends({\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tcolor: _this3.props.style.color || _this3.randomColor(_this3.props.colorarray)\n\t\t\t\t\t\t}, item.child.props.style, {\n\t\t\t\t\t\t\tfontFamily: item.font,\n\t\t\t\t\t\t\tfontSize: item.size,\n\t\t\t\t\t\t\tfontWeight: item.weight,\n\t\t\t\t\t\t\tfontStyle: item.style,\n\t\t\t\t\t\t\twidth: item.width,\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\ttransformOrigin: 'center bottom',\n\t\t\t\t\t\t\tWebkitTransform: transform,\n\t\t\t\t\t\t\tMozTransform: transform,\n\t\t\t\t\t\t\tMsTransform: transform,\n\t\t\t\t\t\t\tOTransform: transform,\n\t\t\t\t\t\t\ttransform: transform\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (_this3.props.style.color && typeof _this3.props.style.color === 'function') {\n\t\t\t\t\t\t\tstyle.color = _this3.props.style.color(item.child, index);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _react2.default.cloneElement(item.child, _extends({}, item.child.props, {\n\t\t\t\t\t\t\tkey: item.text,\n\t\t\t\t\t\t\tstyle: style\n\t\t\t\t\t\t}), item.child.props.children);\n\t\t\t\t\t});\n\t\t\t\t\tresolve(newChildren);\n\t\t\t\t}).start();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'getStyleValue',\n\t\tvalue: function getStyleValue(propName, word) {\n\t\t\tvar childValue = word.child.props.style ? word.child.props.style[propName] : undefined;\n\t\t\tvar value = childValue || this.props.style[propName] || TagCloud.defaultProps.style[propName];\n\t\t\tif (typeof value === 'function') {\n\t\t\t\tvalue = value(word.child.props);\n\t\t\t}\n\t\t\tif (propName === 'fontSize') value += 2;\n\t\t\treturn value;\n\t\t}\n\t}, {\n\t\tkey: 'rotate',\n\t\tvalue: function rotate(word) {\n\t\t\tvar value = word.child.props.rotate || this.props.rotate || TagCloud.defaultProps.rotate;\n\t\t\tif (typeof value === 'function') {\n\t\t\t\treturn value(word.child.props);\n\t\t\t} else {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'text',\n\t\tvalue: function text(word) {\n\t\t\tvar text = word.child.props.text;\n\n\t\t\tif (!text) {\n\t\t\t\tvar children = word.child.props.children;\n\n\t\t\t\tif (Array.isArray(children)) {\n\t\t\t\t\ttext = children[0];\n\t\t\t\t} else {\n\t\t\t\t\ttext = children;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn text;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _props = this.props,\n\t\t\t    children = _props.children,\n\t\t\t    style = _props.style,\n\t\t\t    rotate = _props.rotate,\n\t\t\t    random = _props.random,\n\t\t\t    props = _objectWithoutProperties(_props, ['children', 'style', 'rotate', 'random']);\n\n\t\t\tvar fontFamily = style.fontFamily,\n\t\t\t    fontSize = style.fontSize,\n\t\t\t    fontWeight = style.fontWeight,\n\t\t\t    fontStyle = style.fontStyle,\n\t\t\t    padding = style.padding,\n\t\t\t    otherStyle = _objectWithoutProperties(style, ['fontFamily', 'fontSize', 'fontWeight', 'fontStyle', 'padding']);\n\n\t\t\tvar wrappedChildren = this.state.wrappedChildren;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactMeasure2.default,\n\t\t\t\t{ bounds: true, onResize: this.onResize },\n\t\t\t\tfunction (_ref) {\n\t\t\t\t\tvar measureRef = _ref.measureRef;\n\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t_extends({ ref: measureRef }, props, { style: otherStyle }),\n\t\t\t\t\t\twrappedChildren\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'onResize',\n\t\tvalue: function onResize(_ref2) {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar bounds = _ref2.bounds;\n\t\t\tvar width = bounds.width,\n\t\t\t    height = bounds.height;\n\n\t\t\tif (this._width !== width || this._height !== height) {\n\t\t\t\tthis._width = width;\n\t\t\t\tthis._height = height;\n\t\t\t\tif (this._resizeTimer) clearTimeout(this._resizeTimer);\n\t\t\t\tthis._resizeTimer = setTimeout(function () {\n\t\t\t\t\t_this4._resizeTimer = undefined;\n\t\t\t\t\t_this4.updateLayout(_this4.props);\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn TagCloud;\n}(_react.Component);\n\nTagCloud.propTypes = {\n\tchildren: _propTypes2.default.any,\n\tstyle: _propTypes2.default.shape({\n\t\tfontFamily: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n\t\tfontStyle: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n\t\tfontWeight: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number, _propTypes2.default.string]),\n\t\tfontSize: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n\t\tpadding: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n\t\topacity: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number])\n\t}),\n\trotate: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n\tcolorarray: _propTypes2.default.array,\n\tdata: _propTypes2.default.array,\n\trandom: _propTypes2.default.func\n};\n\nTagCloud.defaultProps = {\n\tstyle: {\n\t\tfontFamily: 'serif',\n\t\tfontStyle: 'normal',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 30,\n\t\tpadding: 10,\n\t\topacity: 1\n\t},\n\trotate: 0,\n\tcolorarray: null,\n\tdata: null,\n\trandom: Math.random\n};\n\nexports.default = TagCloud;"]},"metadata":{},"sourceType":"script"}